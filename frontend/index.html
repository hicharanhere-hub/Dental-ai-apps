<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DentalAI Pro - Accurate Segmentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { font-family: 'Inter', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0a1628; color: white; overflow: hidden; }
        
        .layout { display: flex; height: 100vh; }
        .sidebar { width: 220px; background: #0d2847; border-right: 1px solid #1a3a5c; }
        .main { flex: 1; display: flex; flex-direction: column; background: #050a10; }
        .report { width: 360px; background: #0f1720; border-left: 1px solid #1e293b; }
        
        /* Exact colors from reference */
        .layer-enamel { fill: #5ee7df; opacity: 0.45; }      /* Cyan/teal */
        .layer-dentin { fill: #f4a261; opacity: 0.5; }       /* Orange/salmon */
        .layer-pulp { fill: #e76f51; opacity: 0.55; }        /* Red/pink */
        .layer-crown { fill: #e9c46a; opacity: 0.6; }        /* Yellow/gold */
        .layer-filling { fill: #4a90e2; opacity: 0.65; }     /* Blue */
        .layer-periapical { fill: #f4a4a4; opacity: 0.5; }   /* Light pink */
        .layer-bone { stroke: #e63946; opacity: 0.7; }       /* Red line */
        
        .segmentation-layer { 
            position: absolute; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            pointer-events: none;
            mix-blend-mode: hard-light;
        }
        
        .image-container { 
            position: relative; 
            max-width: 85%; 
            max-height: 85%;
            margin: auto;
        }
        
        .xray-image { 
            width: 100%; 
            display: block;
            filter: contrast(1.1) brightness(0.95);
        }
    </style>
</head>
<body>
    <div class="layout">
        <!-- Sidebar -->
        <div class="sidebar p-4">
            <h2 class="text-lg font-bold mb-4 text-cyan-400">ðŸ¦· DentalAI</h2>
            
            <div class="space-y-2">
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Enamel</span>
                    <div class="w-4 h-4 rounded bg-[#5ee7df]"></div>
                </div>
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Dentin</span>
                    <div class="w-4 h-4 rounded bg-[#f4a261]"></div>
                </div>
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Pulp</span>
                    <div class="w-4 h-4 rounded bg-[#e76f51]"></div>
                </div>
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Crown</span>
                    <div class="w-4 h-4 rounded bg-[#e9c46a]"></div>
                </div>
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Filling</span>
                    <div class="w-4 h-4 rounded bg-[#4a90e2]"></div>
                </div>
                <div class="flex items-center justify-between p-2 rounded bg-blue-900/30">
                    <span class="text-sm">Periapical</span>
                    <div class="w-4 h-4 rounded bg-[#f4a4a4]"></div>
                </div>
            </div>
            
            <input type="file" id="fileInput" accept="image/*" class="hidden">
            <button onclick="document.getElementById('fileInput').click()" class="w-full mt-4 py-2 bg-blue-600 rounded-lg text-sm">
                Upload X-Ray
            </button>
        </div>

        <!-- Main Canvas -->
        <div class="main flex items-center justify-center p-8">
            <div id="uploadPrompt" class="text-center">
                <p class="text-gray-400">Upload dental X-ray for AI segmentation</p>
            </div>
            
            <div id="imageContainer" class="image-container hidden">
                <img id="xrayImage" class="xray-image" crossorigin="anonymous">
                <svg id="segmentationSvg" class="segmentation-layer" viewBox="0 0 100 100" preserveAspectRatio="none">
                    <!-- Tooth 36 - With RCT and periapical lesion -->
                    <g id="tooth36">
                        <!-- Root structure (dentin) -->
                        <path class="layer-dentin" d="M 22,35 Q 28,32 34,35 L 36,55 Q 38,70 36,85 Q 32,90 28,88 Q 24,90 20,85 Q 18,70 20,55 Z"/>
                        
                        <!-- Pulp chambers and canals -->
                        <path class="layer-pulp" d="M 24,38 Q 26,36 28,38 L 28,60 Q 26,75 24,85 Q 26,87 28,85 L 30,75 Q 28,60 30,38 Q 28,36 26,38 Z"/>
                        <path class="layer-pulp" d="M 30,40 Q 32,38 34,40 L 34,55 Q 32,68 30,78 Q 32,80 34,78 L 36,68 Q 34,55 36,40 Q 34,38 32,40 Z"/>
                        
                        <!-- Crown (enamel + dentin) -->
                        <path class="layer-enamel" d="M 18,15 Q 28,10 38,15 L 40,35 Q 28,38 16,35 Z"/>
                        <path class="layer-dentin" d="M 22,18 Q 28,14 34,18 L 36,32 Q 28,34 20,32 Z"/>
                        
                        <!-- Crown restoration -->
                        <path class="layer-crown" d="M 16,12 Q 28,6 40,12 L 42,25 Q 28,28 14,25 Z"/>
                        
                        <!-- Filling -->
                        <path class="layer-filling" d="M 20,20 L 36,20 L 36,28 L 20,28 Z"/>
                        
                        <!-- Periapical lesions -->
                        <ellipse class="layer-periapical" cx="24" cy="88" rx="5" ry="6"/>
                        <ellipse class="layer-periapical" cx="32" cy="86" rx="4" ry="5"/>
                    </g>
                    
                    <!-- Tooth 35 - Healthy -->
                    <g id="tooth35">
                        <path class="layer-dentin" d="M 58,35 Q 64,32 70,35 L 72,55 Q 74,70 72,82 Q 68,86 64,84 Q 60,86 56,82 Q 54,70 56,55 Z"/>
                        <path class="layer-pulp" d="M 60,38 Q 62,36 64,38 L 64,70 Q 62,80 60,85 Q 62,87 64,85 L 66,75 Q 64,65 66,38 Q 64,36 62,38 Z"/>
                        <path class="layer-enamel" d="M 54,18 Q 64,13 74,18 L 76,35 Q 64,38 52,35 Z"/>
                        <path class="layer-dentin" d="M 58,21 Q 64,17 70,21 L 72,32 Q 64,34 56,32 Z"/>
                    </g>
                    
                    <!-- Bone level line -->
                    <path class="layer-bone" d="M 15,75 Q 28,72 42,75 M 52,72 Q 64,69 78,72" fill="none" stroke-width="1.5"/>
                </svg>
            </div>
        </div>

        <!-- Report Panel -->
        <div class="report p-4">
            <h3 class="font-bold mb-4">Analysis Report</h3>
            <div id="findings"></div>
        </div>
    </div>

    <script>
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(event) {
                document.getElementById('uploadPrompt').classList.add('hidden');
                document.getElementById('imageContainer').classList.remove('hidden');
                document.getElementById('xrayImage').src = event.target.result;
            };
            reader.readAsDataURL(file);
        });
    </script>
</body>
</html>
